{"version":3,"sources":["webpack:///./src/i18n/redirect.js","webpack:///./node_modules/gatsby-link/index.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/Link.js","webpack:///./src/i18n/Link.js","webpack:///./src/components/utils/getColor.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/browser-lang/dist/index.js","webpack:///./node_modules/lodash/startsWith.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/toInteger.js"],"names":["Redirect","props","_this","_PureComponent","call","this","langKeys","languages","map","language","value","pathname","location","window","detected","localStorage","getItem","browserLang","fallback","newUrl","withPrefix","setItem","replace","render","react_default","a","createElement","PureComponent","_interopRequireDefault","__webpack_require__","exports","__esModule","navigateTo","push","navigate","default","_objectWithoutPropertiesLoose2","_extends2","_inheritsLoose2","_assertThisInitialized2","_defineProperty2","_propTypes","_react","_router","_gatsby","path","normalizePath","NavLinkPropTypes","activeClassName","string","activeStyle","object","GatsbyLink","_React$Component","_ref","isCurrent","className","filter","Boolean","join","style","IOSupported","IntersectionObserver","state","handleRef","bind","_proto","prototype","componentDidUpdate","prevProps","prevState","to","___loader","enqueue","parsePath","componentDidMount","ref","el","cb","io","_this2","innerRef","entries","forEach","entry","target","isIntersecting","intersectionRatio","unobserve","disconnect","observe","_this3","_this$props","_this$props$getProps","getProps","defaultGetProps","_onClick","onClick","_onMouseEnter","onMouseEnter","rest","prefixedTo","Link","e","hovering","button","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","preventDefault","Component","propTypes","func","isRequired","bool","_default","forwardRef","options","___navigate","console","warn","___push","___replace","module","source","excluded","key","i","sourceKeys","Object","keys","length","indexOf","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","createContext","Consumer","staticQueryData","data","query","children","Error","PropTypes","m","require","linkStyle","css","fontSize","space","color","fontWeight","lineHeight","letterSpacing","display","disabled","customColor","NomalLink","styled","tag","withConfig","displayName","componentId","GatsbyStyledLink","_ref2","blacklist","objectWithoutPropertiesLoose_default","assign","is","defaultProps","I18nLink","locale","context","toWithLang","components_Link","node","contextType","LanguageContext","styled_system__WEBPACK_IMPORTED_MODULE_0__","prop","cssProperty","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","json","shape","_extends","arguments","hasOwnProperty","apply","defineProperty","obj","_startsWith","_startsWith2","getBrowserLang","navigator","browserLanguage","userLanguage","systemLanguage","normalizeCode","code","toLowerCase","match","lang","baseClamp","baseToString","toInteger","toString","position","slice","number","lower","upper","undefined","toFinite","result","remainder"],"mappings":"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","file":"component---src-i-18-n-redirect-js-dd4d2da53655794f14c1.js","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport { withPrefix } from 'gatsby'\r\nimport browserLang from 'browser-lang'\r\nimport { languages } from './index'\r\n\r\nclass Redirect extends PureComponent {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const langKeys = languages.map(language => language.value)\r\n    const { pathname } = props.location\r\n\r\n    // Skip build, Browsers only\r\n    if (typeof window !== 'undefined') {\r\n      const detected =\r\n        window.localStorage.getItem('language') ||\r\n        browserLang({\r\n          languages: langKeys,\r\n          fallback: 'zh-Hant-TW',\r\n        })\r\n\r\n      const newUrl = withPrefix(`/${detected}${pathname}`)\r\n      window.localStorage.setItem('language', detected)\r\n      window.location.replace(newUrl)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div />\r\n  }\r\n}\r\n\r\nexport default Redirect\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.withPrefix = withPrefix;\nexports.navigateTo = exports.replace = exports.push = exports.navigate = exports.default = void 0;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _router = require(\"@reach/router\");\n\nvar _gatsby = require(\"gatsby\");\n\n/*global __PATH_PREFIX__ */\nfunction withPrefix(path) {\n  return normalizePath(__PATH_PREFIX__ + \"/\" + path);\n}\n\nfunction normalizePath(path) {\n  return path.replace(/\\/+/g, \"/\");\n}\n\nvar NavLinkPropTypes = {\n  activeClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object // Set up IntersectionObserver\n\n};\n\nvar handleIntersection = function handleIntersection(el, cb) {\n  var io = new window.IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (el === entry.target) {\n        // Check if element is within viewport, remove listener, destroy observer, and run link callback.\n        // MSEdge doesn't currently support isIntersecting, so also test for  an intersectionRatio > 0\n        if (entry.isIntersecting || entry.intersectionRatio > 0) {\n          io.unobserve(el);\n          io.disconnect();\n          cb();\n        }\n      }\n    });\n  }); // Add element to the observer\n\n  io.observe(el);\n};\n\nvar GatsbyLink =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(GatsbyLink, _React$Component);\n\n  function GatsbyLink(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // Default to no support for IntersectionObserver\n\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)), \"defaultGetProps\", function (_ref) {\n      var isCurrent = _ref.isCurrent;\n\n      if (isCurrent) {\n        return {\n          className: [_this.props.className, _this.props.activeClassName].filter(Boolean).join(\" \"),\n          style: (0, _extends2.default)({}, _this.props.style, _this.props.activeStyle)\n        };\n      }\n\n      return null;\n    });\n    var IOSupported = false;\n\n    if (typeof window !== \"undefined\" && window.IntersectionObserver) {\n      IOSupported = true;\n    }\n\n    _this.state = {\n      IOSupported: IOSupported\n    };\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)));\n    return _this;\n  }\n\n  var _proto = GatsbyLink.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // Preserve non IO functionality if no support\n    if (this.props.to !== prevProps.to && !this.state.IOSupported) {\n      ___loader.enqueue((0, _gatsby.parsePath)(this.props.to).pathname);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    // Preserve non IO functionality if no support\n    if (!this.state.IOSupported) {\n      ___loader.enqueue((0, _gatsby.parsePath)(this.props.to).pathname);\n    }\n  };\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    if (this.state.IOSupported && ref) {\n      // If IO supported and element reference found, setup Observer functionality\n      handleIntersection(ref, function () {\n        ___loader.enqueue((0, _gatsby.parsePath)(_this2.props.to).pathname);\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var _this$props = this.props,\n        to = _this$props.to,\n        _this$props$getProps = _this$props.getProps,\n        getProps = _this$props$getProps === void 0 ? this.defaultGetProps : _this$props$getProps,\n        _onClick = _this$props.onClick,\n        _onMouseEnter = _this$props.onMouseEnter,\n        $activeClassName = _this$props.activeClassName,\n        $activeStyle = _this$props.activeStyle,\n        $innerRef = _this$props.innerRef,\n        state = _this$props.state,\n        replace = _this$props.replace,\n        rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"to\", \"getProps\", \"onClick\", \"onMouseEnter\", \"activeClassName\", \"activeStyle\", \"innerRef\", \"state\", \"replace\"]);\n    var LOCAL_URL = /^\\/(?!\\/)/;\n\n    if (process.env.NODE_ENV !== \"production\" && !LOCAL_URL.test(to)) {\n      console.warn(\"External link \" + to + \" was detected in a Link component. Use the Link component only for internal links. See: https://gatsby.app/internal-links\");\n    }\n\n    var prefixedTo = withPrefix(to);\n    return _react.default.createElement(_router.Link, (0, _extends2.default)({\n      to: prefixedTo,\n      state: state,\n      getProps: getProps,\n      innerRef: this.handleRef,\n      onMouseEnter: function onMouseEnter(e) {\n        if (_onMouseEnter) {\n          _onMouseEnter(e);\n        }\n\n        ___loader.hovering((0, _gatsby.parsePath)(to).pathname);\n      },\n      onClick: function onClick(e) {\n        if (_onClick) {\n          _onClick(e);\n        }\n\n        if (e.button === 0 && // ignore right clicks\n        !_this3.props.target && // let browser handle \"target=_blank\"\n        !e.defaultPrevented && // onClick prevented default\n        !e.metaKey && // ignore clicks with modifier keys...\n        !e.altKey && !e.ctrlKey && !e.shiftKey) {\n          e.preventDefault(); // Make sure the necessary scripts and data are\n          // loaded before continuing.\n\n          navigate(to, {\n            state: state,\n            replace: replace\n          });\n        }\n\n        return true;\n      }\n    }, rest));\n  };\n\n  return GatsbyLink;\n}(_react.default.Component);\n\nGatsbyLink.propTypes = (0, _extends2.default)({}, NavLinkPropTypes, {\n  innerRef: _propTypes.default.func,\n  onClick: _propTypes.default.func,\n  to: _propTypes.default.string.isRequired,\n  replace: _propTypes.default.bool\n});\n\nvar _default = _react.default.forwardRef(function (props, ref) {\n  return _react.default.createElement(GatsbyLink, (0, _extends2.default)({\n    innerRef: ref\n  }, props));\n});\n\nexports.default = _default;\n\nvar navigate = function navigate(to, options) {\n  window.___navigate(withPrefix(to), options);\n};\n\nexports.navigate = navigate;\n\nvar push = function push(to) {\n  console.warn(\"The \\\"push\\\" method is now deprecated and will be removed in Gatsby v3. Please use \\\"navigate\\\" instead.\");\n\n  window.___push(withPrefix(to));\n};\n\nexports.push = push;\n\nvar replace = function replace(to) {\n  console.warn(\"The \\\"replace\\\" method is now deprecated and will be removed in Gatsby v3. Please use \\\"navigate\\\" instead.\");\n\n  window.___replace(withPrefix(to));\n}; // TODO: Remove navigateTo for Gatsby v3\n\n\nexports.replace = replace;\n\nvar navigateTo = function navigateTo(to) {\n  console.warn(\"The \\\"navigateTo\\\" method is now deprecated and will be removed in Gatsby v3. Please use \\\"navigate\\\" instead.\");\n  return push(to);\n};\n\nexports.navigateTo = navigateTo;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport {\r\n  fontSize,\r\n  fontWeight,\r\n  lineHeight,\r\n  space,\r\n  color,\r\n  letterSpacing,\r\n  display,\r\n} from 'styled-system';\r\nimport tag from 'clean-tag';\r\nimport { Link as GatsbyLink } from 'gatsby';\r\n\r\nimport blacklist from './utils/blacklist';\r\nimport { customColor } from './utils/getColor';\r\n\r\nconst linkStyle = css`\r\n  ${fontSize}\r\n  ${space}\r\n  ${color}\r\n  ${fontWeight}\r\n  ${lineHeight}\r\n  ${letterSpacing}\r\n  ${display}\r\n  text-decoration: none;\r\n  ${({ disabled }) => disabled && `\r\n    pointer-events: none;\r\n  `}\r\n  &:hover {\r\n    ${customColor('hoverColor')};\r\n  }\r\n`;\r\n\r\nconst NomalLink = styled(tag)`\r\n  ${linkStyle}\r\n`;\r\n\r\nconst GatsbyStyledLink = styled(GatsbyLink)`\r\n  ${linkStyle}\r\n`;\r\n\r\nconst Link = ({ to, button, blacklist, ...props }) => {\r\n  if (to) {\r\n    return (\r\n      <GatsbyStyledLink to={to} {...props} />\r\n    );\r\n  }\r\n  return (\r\n    <NomalLink\r\n      is=\"a\"\r\n      target=\"_blank\"\r\n      blacklist={blacklist}\r\n      { ...props }\r\n    />\r\n  );\r\n};\r\n\r\nLink.displayName = 'Link';\r\n\r\nLink.defaultProps = {\r\n  blacklist,\r\n  fontWeight: 'bold',\r\n};\r\n\r\nexport default Link;\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Link from '../components/Link'\r\nimport LanguageContext from '../i18n/LanguageContext';\r\n\r\nclass I18nLink extends PureComponent {\r\n  render() {\r\n    const { to, children, ...rest } = this.props;\r\n    const { locale } = this.context;\r\n      const toWithLang = locale ? `/${locale}${to}` : `${to}`\r\n    return (\r\n      <Link to={toWithLang} {...rest}>\r\n        {children}\r\n      </Link>\r\n    )\r\n  }\r\n}\r\n\r\nI18nLink.propTypes = {\r\n  to: PropTypes.string.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n}\r\n\r\nI18nLink.contextType = LanguageContext\r\n\r\nexport default I18nLink\r\n","import { style } from 'styled-system';\r\n\r\nexport const customColor = (prop, cssProperty = 'color') => style ({\r\n  prop,\r\n  cssProperty,\r\n  key: 'colors',\r\n});\r\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _startsWith = require('lodash/startsWith');\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getBrowserLang() {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  var lang = window.navigator.languages && window.navigator.languages[0] || window.navigator.language || window.navigator.browserLanguage || window.navigator.userLanguage || window.navigator.systemLanguage || null;\n\n  return lang;\n}\n\nfunction normalizeCode(code) {\n  return code.toLowerCase().replace(/-/, '_');\n}\n\nfunction getPreferredLanguage(options) {\n  if (!options) {\n    return getBrowserLang();\n  }\n\n  var languages = options.languages,\n      fallback = options.fallback;\n\n  if (!options.languages) {\n    return fallback;\n  }\n\n  // some browsers report language as en-US instead of en_US\n  var browserLanguage = normalizeCode(getBrowserLang());\n\n  if (!browserLanguage) {\n    return fallback;\n  }\n\n  var match = languages.filter(function (lang) {\n    return normalizeCode(lang) === browserLanguage;\n  });\n\n  if (match.length > 0) {\n    return match[0] || fallback;\n  }\n\n  // en == en_US\n  var matchCodeOnly = languages.filter(function (lang) {\n    return (0, _startsWith2.default)(browserLanguage, lang);\n  });\n  return matchCodeOnly[0] || fallback;\n}\n\nexports.default = getPreferredLanguage;","var baseClamp = require('./_baseClamp'),\n    baseToString = require('./_baseToString'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = position == null\n    ? 0\n    : baseClamp(toInteger(position), 0, string.length);\n\n  target = baseToString(target);\n  return string.slice(position, position + target.length) == target;\n}\n\nmodule.exports = startsWith;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n"],"sourceRoot":""}